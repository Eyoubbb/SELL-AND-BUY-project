@use "../abstracts" as *;

header {
	padding: 1em;
	display: flex;
	justify-content: space-between;
	align-items: center;
	font-size: .9em;
	background-color: var(--primary-1);

	.nav-left {
		display: flex;
		align-items: center;
		flex-basis: 60%;
		max-width: 800px;
		gap: 2em;

		.logo {
			display: flex;
			@include size(45px);
		}
		
		.nav-links {
			display: flex;
			align-items: center;
			gap: 1em;
		}

		.search-form {
			flex-grow: 1;
			padding: .5em;
			display: flex;
			align-items: center;
			gap: 1em;
			border-radius: 7px;
			background-color: white;

			@include media(m) {
				display: none;
			}
			
			&:focus-within {
				outline: 2px solid var(--primary-2);
			}
			
			input {
				flex-grow: 1;
				background-color: transparent;

				&:focus {
					outline: none;
				}
			}
		}
	}
	
	.nav-right {
		display: flex;
		align-items: center;
		gap: 1em;
		
		.btn-search {
			display: none;
			
			@include media(m) {
				display: block;
			}
		}

		.dropdown {
			position: relative;
			display: flex;

			.btn-caret {
				padding: .6em;
				display: flex;
				align-items: center;
				gap: .5em;
				border-radius: 7px;
				transition: background-color .3s ease;
				
				&:hover, &:focus {
					background-color: var(--primary-2);
				}
				
				img {
					@include size(18px);

					&.profile-picture {
						@include size(30px);
						border-radius: 50%;
					}
				}
			}

			&.menu-open .btn-caret {
				background-color: var(--primary-2);
			}
			
			.dropdown-content {
				z-index: 1;
				position: absolute;
				top: calc(100% + 1em);
				right: 0;
				min-width: 200px;
				display: none;
				flex-direction: column;
				background-color: var(--primary-1);
				border-radius: 5px;
				@include box-shadow(0, 2px, 4px, 0, .2);
				transition: background-color .3s ease;

				li {
					display: block;
					
					&:first-child {
						border-top-left-radius: inherit;
						border-top-right-radius: inherit;
					}

					&:last-child {
						border-bottom-left-radius: inherit;
						border-bottom-right-radius: inherit;
					}
					
					a {
						display: block;
						padding: 1em;
						white-space: nowrap;
						border-radius: inherit;
						transition: background-color .3s ease;

						&:is(:hover, :focus) {
							background-color: var(--primary-2);
						}
					}
				}
			}

			&.menu-open .dropdown-content {
				display: flex;
			}
		}
	}
}

a.hover-link {
	white-space: nowrap;
	display: block;
	position: relative;
	overflow: hidden;

	@include pseudo($pos : auto auto 0 0) {
		@include size(100%, 0.1em);
		background-color: rgb(0, 0, 0);
		opacity: 1;
		transform: translate3d(-100%, 0, 0);
		transition: opacity .3s ease, transform .3s ease;
	}

	&:hover::after {
		transform: translate3d(0, 0, 0);
	}
}

.btn-search {
	@include size(20px);

	img {
		@include size;
	}
}